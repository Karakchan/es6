<!DOCTYPE html>
<head>
    <title>this keyword </title>
</head>
<body>

    <script type="text/javascript">

        //this keyword (Static scope, Lexical scope)
        console.log(this);

        //regular tranditional scope
        function morning(){
            console.log("good morning"); //good morning
            console.log(this); //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
        }

        morning();

        const afternoon = function(){
            console.log("good afternoon");
            console.log(this); //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
        }
        
        afternoon();

       const evening = ()=>{
        console.log("Good Evening"); //good evening
        console.log(this); //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
       }

       evening();

    //    setTimeout(function(){
    //     console.log("Good Night");// Good night
    //     console.log(this); //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
    //    },3000)

    //    setTimeout(()=>{
    //     console.log("good Bye");
    //     console.log(this) //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
    //    },4000)

       function outerval(){
            let outside = "outside value";

            function inside(){ 
                console.log(outside); //outside value
                console.log(this);  //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
                console.log(this.outside); //undefined
            }

            const inner = ()=>{
                console.log(outside); //outside value
                console.log(this);  //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
                console.log(this.outside); //undefined
            }
            inside();
            inner();
       }

       outerval();    

        // ----------------------------------------------------------------------------------------------------

       // => For Object

    //    Name Less Regular Function = this Work    NRW
    //    Name Less Arrow Function = this Not Work  NAN
 
    //    Callback Regular Function = this Not Work CRN
    //    Callback Arrow Function = this Work       CAW


    
    const obj1 = {
        name:"Min Kyaw Moe Oo",
        age:20,
        city:"Mawlamyine",

        myfun1:function(){
            console.log(this)
        },

        myfun2:()=>{
            console.log(this)
        }

    }


    obj1.myfun1(); //{name: 'Min Kyaw Moe Oo', age: 20, city: 'Mawlamyine', myfun1: ƒ, myfun2: ƒ}
    obj1.myfun2(); //Window {window: Window, self: Window, document: document, name: '', location: Location, …}


    const obj3 = {

        name:"Hla YaMin Oo",
        age:20,
        city:"Chaungzone",

        getname:function(){

            const funone = function(){

                console.log(name); //empty
                console.log(this); //indow {window: Window, self: Window, document: document, name: '', location: Location, …}
                console.log(this.name); //empty
            }


            funone();
        },

        getcity:function(){

            const funtwo = ()=>{
                console.log(this); //{name: 'Hla YaMin Oo', age: 20, city: 'Chaungzone', getname: ƒ, getcity: ƒ}
                console.log(this.city); //chaungzone
            }

            funtwo();

        },

        getage:()=>{
            const funthree = function(){
                console.log(this); //Window {window: Window, self: Window, document: document, name: '', location: Location, …}
            }

            funthree();
        }

    }

    // console.log(obj3.getname)
    obj3.getname();
    obj3.getcity();
    obj3.getage();

    // => let and const are not add value to Window Global Scope.
    // (In Terminal)
    // var name = "aung aung";
    // name; // aung aung
    // window.name; aung aung
    // window; // extend window > name(yes)

    // let city = "yangon";
    // city; //yangon
    // window.city //yangon
    // window  // extend window > city(no) 

    // const age = 20;
    // age; // undefined
    // window.age; // undefined
    // window; // extend window > name(no)


    const items = {
        product:"Iphone 16 pro max",
        price:2000,

        info:function(){
            return `${this.product} Price is bose on ${this.price} USD.`;
            
        },

        discount:function(){
            return `Use ${this.price} USD for ${this.product}! Get 20% cash back!`;
        }
    }

    console.log(items);
    console.log(items.info());
    console.log(items.discount()); //


    const group = {
        members:["aung aung,su su"],
        groupname:"Frontend Designer",

        //NAN
        groupmembers:()=>{
            console.log(`There are 2 memebers on this ${this.groupname} group.`);
        },

         //NRW > CAW
         groupinfo:function(){
            return this.members.map(member=>{
                console.log(`${member} is on ${this.groupname} group`);
            });
        },

    
        //NRW > CRN
         groupsay:function(){
            return this.members.map(function(){
                console.log(`${member} key person on this  ${this.groupname} group`);
            });
        },

    }


    console.log(group);
    group.groupmembers();
    // group.groupinfo();
    // group.groupsay();
    

    const investory = [
        {title:"Rebull",price:2500},
        {title:"Sponsor",price:1500}
    ];

    function createitem(investory){
        return {
            investory,
            itemvalue:function(){
                return this.investory.reduce((total,curr)=>{
                    total += curr.price
                    return total;
                },0)
            }
        }
    }

    const getresult = createitem(investory);
    console.log(getresult);
    console.log(getresult.itemvalue()); // 4000

</script>
    
</body>
</html>